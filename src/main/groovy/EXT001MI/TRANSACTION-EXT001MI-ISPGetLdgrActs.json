{"programModules":{"EXT001MI":{"program":"EXT001MI","triggers":{},"transactions":{"ISPGetLdgrActs":{"sourceUuid":"f5df9ba5-1cd2-457c-aaef-ace499d78ca3","name":"ISPGetLdgrActs","program":"EXT001MI","description":"ALL_MI_0001_GetLedgerAccounts","active":true,"multi":true,"modified":1686758307209,"modifiedBy":"SMALALI","outputFields":[{"name":"RCTP","description":"Record Type","length":1,"mandatory":false,"type":"A"},{"name":"DIVI","description":"division","length":3,"mandatory":false,"type":"A"},{"name":"AITP","description":"accounting dimension","length":1,"mandatory":false,"type":"N"},{"name":"AITM","description":"accounting identity","length":10,"mandatory":false,"type":"A"},{"name":"TX40","description":"description","length":40,"mandatory":false,"type":"A"},{"name":"LCCD","description":"blocked accounting identity","length":1,"mandatory":false,"type":"N"},{"name":"VFDT","description":"valid from","length":8,"mandatory":false,"type":"N"},{"name":"VTDT","description":"valid to","length":8,"mandatory":false,"type":"N"},{"name":"MQCD","description":"quantity mandatory","length":1,"mandatory":false,"type":"N"},{"name":"ACR2","description":"ACR for accounting dimension 2","length":1,"mandatory":false,"type":"N"},{"name":"ACR3","description":"ACR for accounting dimension 3","length":1,"mandatory":false,"type":"N"},{"name":"ACR4","description":"ACR for accounting dimension 4","length":1,"mandatory":false,"type":"N"},{"name":"ACR5","description":"ACR for accounting dimension 5","length":1,"mandatory":false,"type":"N"},{"name":"ACR6","description":"ACR for accounting dimension 6","length":1,"mandatory":false,"type":"N"},{"name":"ACR7","description":"ACR for accounting dimension 7","length":1,"mandatory":false,"type":"N"},{"name":"AT04","description":"VAT account type","length":1,"mandatory":false,"type":"N"},{"name":"KV06","description":"Dimension","length":15,"mandatory":false,"type":"A"},{"name":"FV02","description":"Range","length":40,"mandatory":false,"type":"A"},{"name":"FV03","description":"From Value","length":40,"mandatory":false,"type":"A"},{"name":"FV04","description":"To Value","length":40,"mandatory":false,"type":"A"}],"inputFields":[{"name":"AITM","description":"accounting identity","length":10,"mandatory":false,"type":"A"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"f5df9ba5-1cd2-457c-aaef-ace499d78ca3":{"uuid":"f5df9ba5-1cd2-457c-aaef-ace499d78ca3","updated":1686743763890,"updatedBy":"SMALALI","created":1686757872155,"createdBy":"SMALALI","apiVersion":"0.14","beVersion":"16.0.0.20230419174557.9","language":"GROOVY","codeHash":"69675CFACFF9776DE8CAE070E8B2F340F951D54117BD7476C6A4DC0834FD6798","code":"LyoqDQoqIFJFQURNRQ0KKiBUaGlzIGV4dGVuc2lvbiBzZW5kcyBzcGVjaWZpYyBNMyBnZW5lcmFsIGxlZGdlciBkZXRhaWxzIHRvIDNyZCBwYXJ0eSBhcHBsaWNhdGlvbiBJU1AuIA0KKiANCioNCiogTmFtZTogRVhUMDAxTUkuSVNQR2V0TGRnckFjdHMNCiogRGVzY3JpcHRpb246IA0KKiBEYXRlICAgICAgICAgIENoYW5nZWQgYnkgICAgICAgICAgICAgIERlc2NyaXB0aW9uDQoqIDIwMjEtMDUtMTkgICAgSGl0ZXNoIENob3RyYW5pICAgICAgICAgSW5pdGlhbCB2ZXJzaW9uDQoqIDIwMjMtMDMtMTAgICAgU2hhc2hhbmsgTWFsYWxpICAgICAgICAgUmVtb3ZlIHVudXNlZCBjb2RlLCB1c2FnZSBsb3dlckNhbWVsQ2FzZQ0KKiAyMDIzLTA2LTE0ICAgIFNoYXNoYW5rIE1hbGFsaSAgICAgICAgIENoYW5nZWQgLnNpemUgbWV0aG9kIHRvIC5zaXplKCkNCiovDQoNCg0KDQpwdWJsaWMgY2xhc3MgSVNQR2V0TGRnckFjdHMgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsNCiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaTsNCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW07DQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXI7DQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UNCiAgcHJpdmF0ZSBBcnJheUxpc3QgPCBTdHJpbmcgPiBsZWRnZXJBY2NvdW50VHlwZSA9IG51bGw7DQogIHByaXZhdGUgTWFwIDwgU3RyaW5nLCBTdHJpbmcgPiBkaW1lbnNpb25NYXAgPSBudWxsOw0KICBwcml2YXRlIE1hcCA8IFN0cmluZywgU3RyaW5nID4gcXVhbnRpdHlNYXAgPSBudWxsOw0KICBwcml2YXRlIE1hcCA8IFN0cmluZywgU3RyaW5nID4gdmF0UmFuZ2VNYXAgPSBudWxsOw0KICBwcml2YXRlIFN0cmluZyBDT05PID0gIiI7DQogIHByaXZhdGUgU3RyaW5nIGlucHV0QUlUTSA9ICIiOw0KICBwcml2YXRlIFN0cmluZyBpbnB1dERJVkkgPSAiIjsNCiAgcHJpdmF0ZSBBcnJheUxpc3QgPCBIYXNodGFibGUgPiBsZWRnZXJBY2NvdW50cyA9IG51bGw7DQogIHByaXZhdGUgQXJyYXlMaXN0IDwgSGFzaHRhYmxlID4gYWNyTGlzdCA9IG51bGw7DQogIHByaXZhdGUgQXJyYXlMaXN0IDwgSGFzaHRhYmxlID4gdmF0UmFuZ2VMaXN0ID0gbnVsbDsNCiAgcHJpdmF0ZSBib29sZWFuIGlzRW5kT2ZGaWxlID0gZmFsc2U7DQoNCiAgcHVibGljIElTUEdldExkZ3JBY3RzKE1JQVBJIG1pLCBQcm9ncmFtQVBJIHByb2dyYW0sIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSkgew0KICAgIHRoaXMubWkgPSBtaTsNCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtOw0KICAgIHRoaXMubWlDYWxsZXIgPSBtaUNhbGxlcjsNCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2U7DQogIH0NCg0KICBwdWJsaWMgdm9pZCBtYWluKCkgew0KICAgIGlucHV0QUlUTSA9IG1pLmluRGF0YS5nZXQoJ0FJVE0nKTsNCiAgICBpbnB1dERJVkkgPSBtaS5pbkRhdGEuZ2V0KCdESVZJJyk7DQogICAgcG9wdWxhdGVSYW5nZU1hcHMoKTsNCiAgICBnZXRBbGxMZWRnZXJBY2NvdW50cygpOw0KICAgIGlmIChsZWRnZXJBY2NvdW50cy5zaXplKCkgPCAxMDAwKSB7DQogICAgICBpc0VuZE9mRmlsZSA9IHRydWU7DQogICAgfQ0KICAgIGlmICghaW5wdXRBSVRNLnRyaW0oKS5pc0VtcHR5KCkpIHsNCiAgICAgIGxlZGdlckFjY291bnRzLnJlbW92ZSgwKTsNCiAgICB9DQogICAgbGVkZ2VyQWNjb3VudHMuZWFjaCB7DQogICAgICBlYWNoQWNjb3VudCAtPg0KICAgICAgICBmaWxsQUNSTGlzdChlYWNoQWNjb3VudCk7DQogICAgICBtYXBWYWx1ZXNUb0lTUChlYWNoQWNjb3VudCk7DQogICAgICBmaWxsQUNSUmFuZ2UoZWFjaEFjY291bnQpOw0KICAgICAgZmlsbFZBVFJhbmdlKGVhY2hBY2NvdW50KTsNCiAgICB9DQogICAgaWYgKGlzRW5kT2ZGaWxlKSB7DQogICAgICBtaS5vdXREYXRhLnB1dCgnUkNUUCcsICdMJyk7DQogICAgICBtaS5vdXREYXRhLnB1dCgnQUlUTScsICclJUVPRiUlJyk7DQogICAgICBtaS53cml0ZSgpOw0KICAgIH0NCiAgfQ0KDQogLyoqDQogICAqIENoZWNrIGFuZCByZXRyaXZlIGNvbnRyb2wgcHJvcGVydGllcyBmcm9tIENVR0VYMQ0KICAgKiANCiAgICovDQoNCiAgcHVibGljIHBvcHVsYXRlUmFuZ2VNYXBzKCkgew0KICAgIENPTk8gPSBwcm9ncmFtLkxEQVpELmdldCgnQ09OTycpOw0KDQogICAgbGVkZ2VyQWNjb3VudFR5cGUgPSBuZXcgQXJyYXlMaXN0IDwgU3RyaW5nID4gKCk7DQogICAgYm9vbGVhbiByZWNvcmRFeGlzdHMgPSB0cnVlOw0KICAgIGRlZiBjYWxsYmFjayA9IHsNCiAgICAgIE1hcCA8IFN0cmluZywNCiAgICAgIFN0cmluZyA+IHJlc3VsdHMgLT4NCiAgICAgIHJlY29yZEV4aXN0cyA9ICFyZXN1bHRzLmdldCgnZXJyb3InKTsNCiAgICAgIGlmIChyZWNvcmRFeGlzdHMpIHsNCiAgICAgICAgU3RyaW5nIGxlZGdlckFjdHMgPSByZXN1bHRzLmdldCgnQTEyMScpOw0KICAgICAgICBTdHJpbmdbXSBsZWRnZXJBY3RzQXJyYXkgPSBsZWRnZXJBY3RzLnNwbGl0KCc7Jyk7DQogICAgICAgIGxlZGdlckFjdHNBcnJheS5lYWNoIHsNCiAgICAgICAgICB2YWx1ZSAtPg0KICAgICAgICAgICAgU3RyaW5nIGxlZGdlckFjY291bnQgPSB2YWx1ZTsNCiAgICAgICAgICBsZWRnZXJBY2NvdW50VHlwZS5hZGQobGVkZ2VyQWNjb3VudC50cmltKCkpOw0KDQogICAgICAgIH0NCg0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbWkuZXJyb3IoIlBsZWFzZSBtYWludGFpbiByZWNvcmQgaW4gQ1VHRVgxIGZvciBMRURHRVJBQ1RUWVBFIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgIH0NCiAgICBkZWYgcGFyYW1zID0gWyJGSUxFIjogIklTUEZJTEUiLCAiUEswMSI6ICJHRVRMRURHRVJBQ0NPVU5UUyIsICJQSzAyIjogIkxFREdFUkFDVFRZUEUiXTsNCiAgICBtaUNhbGxlci5jYWxsKCJDVVNFWFRNSSIsICJHZXRGaWVsZFZhbHVlIiwgcGFyYW1zLCBjYWxsYmFjayk7DQoNCiAgICBkaW1lbnNpb25NYXAgPSBuZXcgSGFzaE1hcCA8IFN0cmluZywgU3RyaW5nID4gKCk7DQoNCiAgICBkZWYgY2FsbGJhY2syID0gew0KICAgICAgTWFwIDwgU3RyaW5nLA0KICAgICAgU3RyaW5nID4gcmVzdWx0cyAtPg0KICAgICAgcmVjb3JkRXhpc3RzID0gIXJlc3VsdHMuZ2V0KCdlcnJvcicpOw0KICAgICAgaWYgKHJlY29yZEV4aXN0cykgew0KICAgICAgICBTdHJpbmcgYWN0RGltZW5zaW9ucyA9IHJlc3VsdHMuZ2V0KCdBMTIxJyk7DQogICAgICAgIFN0cmluZ1tdIGFjdERpbWVuc2lvbnNBcnJheSA9IGFjdERpbWVuc2lvbnMuc3BsaXQoJzsnKTsNCiAgICAgICAgYWN0RGltZW5zaW9uc0FycmF5LmVhY2ggew0KICAgICAgICAgIHZhbHVlIC0+DQogICAgICAgICAgICBTdHJpbmcgYWN0RGltZW5zaW9uID0gdmFsdWU7DQogICAgICAgICAgZGltZW5zaW9uTWFwLnB1dChhY3REaW1lbnNpb24uc3Vic3RyaW5nKDAsIDEpLCBhY3REaW1lbnNpb24uc3Vic3RyaW5nKDIsIDMpKTsNCg0KICAgICAgICB9DQoNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIG1pLmVycm9yKCJQbGVhc2UgbWFpbnRhaW4gcmVjb3JkIGluIENVR0VYMSBmb3IgQUNURElNRU5TSU9OIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgIH0NCiAgICBkZWYgcGFyYW1zMiA9IFsiRklMRSI6ICJJU1BGSUxFIiwgIlBLMDEiOiAiR0VUTEVER0VSQUNDT1VOVFMiLCAiUEswMiI6ICJBQ1RESU1FTlNJT04iXTsNCiAgICBtaUNhbGxlci5jYWxsKCJDVVNFWFRNSSIsICJHZXRGaWVsZFZhbHVlIiwgcGFyYW1zMiwgY2FsbGJhY2syKTsNCg0KICAgIHF1YW50aXR5TWFwID0gbmV3IEhhc2hNYXAgPCBTdHJpbmcsIFN0cmluZyA+ICgpOw0KDQogICAgZGVmIGNhbGxiYWNrMyA9IHsNCiAgICAgIE1hcCA8IFN0cmluZywNCiAgICAgIFN0cmluZyA+IHJlc3VsdHMgLT4NCiAgICAgIHJlY29yZEV4aXN0cyA9ICFyZXN1bHRzLmdldCgnZXJyb3InKTsNCiAgICAgIGlmIChyZWNvcmRFeGlzdHMpIHsNCiAgICAgICAgU3RyaW5nIHF1YW50aXRpZXMgPSByZXN1bHRzLmdldCgnQTEyMScpOw0KICAgICAgICBTdHJpbmdbXSBxdWFudGl0eVZhbHVlQXJyYXkgPSBxdWFudGl0aWVzLnNwbGl0KCc7Jyk7DQogICAgICAgIHF1YW50aXR5VmFsdWVBcnJheS5lYWNoIHsNCiAgICAgICAgICB2YWx1ZSAtPg0KICAgICAgICAgICAgU3RyaW5nIHF1YW50aXR5VmFsdWUgPSB2YWx1ZTsNCiAgICAgICAgICBxdWFudGl0eU1hcC5wdXQocXVhbnRpdHlWYWx1ZS5zdWJzdHJpbmcoMCwgMSksIHF1YW50aXR5VmFsdWUuc3Vic3RyaW5nKDIsIDMpKTsNCiAgICAgICAgfQ0KDQogICAgICB9IGVsc2Ugew0KICAgICAgICBtaS5lcnJvcigiUGxlYXNlIG1haW50YWluIHJlY29yZCBpbiBDVUdFWDEgZm9yIFFVQU5USVRZIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgIH0NCiAgICBkZWYgcGFyYW1zMyA9IFsiRklMRSI6ICJJU1BGSUxFIiwgIlBLMDEiOiAiR0VUTEVER0VSQUNDT1VOVFMiLCAiUEswMiI6ICJRVUFOVElUWSJdOw0KICAgIG1pQ2FsbGVyLmNhbGwoIkNVU0VYVE1JIiwgIkdldEZpZWxkVmFsdWUiLCBwYXJhbXMzLCBjYWxsYmFjazMpOw0KDQogICAgdmF0UmFuZ2VNYXAgPSBuZXcgSGFzaE1hcCA8IFN0cmluZywgU3RyaW5nID4gKCk7DQoNCiAgICBkZWYgY2FsbGJhY2s0ID0gew0KDQogICAgICBNYXAgPCBTdHJpbmcsDQogICAgICBTdHJpbmcgPiByZXN1bHRzIC0+DQogICAgICByZWNvcmRFeGlzdHMgPSAhcmVzdWx0cy5nZXQoJ2Vycm9yJyk7DQogICAgICBpZiAocmVjb3JkRXhpc3RzKSB7DQogICAgICAgIFN0cmluZyB2YXRSYW5nZXMgPSByZXN1bHRzLmdldCgnQTEyMScpOw0KICAgICAgICBTdHJpbmdbXSB2YXRSYW5nZUFycmF5ID0gdmF0UmFuZ2VzLnNwbGl0KCc7Jyk7DQogICAgICAgIHZhdFJhbmdlQXJyYXkuZWFjaCB7DQogICAgICAgICAgdmFsdWUgLT4NCiAgICAgICAgICAgIFN0cmluZyB2YXRSYW5nZSA9IHZhbHVlOw0KICAgICAgICAgIHZhdFJhbmdlTWFwLnB1dCh2YXRSYW5nZS5zdWJzdHJpbmcoMCwgMSksIHZhdFJhbmdlLnN1YnN0cmluZygyLCAzKSk7DQogICAgICAgIH0NCg0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbWkuZXJyb3IoIlBsZWFzZSBtYWludGFpbiByZWNvcmQgaW4gQ1VHRVgxIGZvciBWQVRSQU5HRSIpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQoNCiAgICB9DQogICAgZGVmIHBhcmFtczQgPSBbIkZJTEUiOiAiSVNQRklMRSIsICJQSzAxIjogIkdFVExFREdFUkFDQ09VTlRTIiwgIlBLMDIiOiAiVkFUUkFOR0UiXTsNCiAgICBtaUNhbGxlci5jYWxsKCJDVVNFWFRNSSIsICJHZXRGaWVsZFZhbHVlIiwgcGFyYW1zNCwgY2FsbGJhY2s0KTsNCg0KICB9DQoNCiAgLyoqDQogICAqIGdldCBNMyBsZWRnZXIgYWNjb3VudCB1c2luZyBDUlM2MzBNSS5Mc3RBY2NvdW50SUQNCiAgICogDQogICAqLw0KICAgDQogIHB1YmxpYyBnZXRBbGxMZWRnZXJBY2NvdW50cygpIHsNCiAgICBsZWRnZXJBY2NvdW50cyA9IG5ldyBBcnJheUxpc3QgPCBIYXNodGFibGUgPiAoKTsNCiAgICBib29sZWFuIHJlY29yZEV4aXN0cyA9IHRydWU7DQogICAgZGVmIGNhbGxiYWNrID0gew0KICAgICAgTWFwIDwgU3RyaW5nLA0KICAgICAgU3RyaW5nID4gcmVzdWx0cyAtPg0KICAgICAgcmVjb3JkRXhpc3RzID0gIXJlc3VsdHMuZ2V0KCdlcnJvcicpOw0KICAgICAgaWYgKHJlY29yZEV4aXN0cykgew0KICAgICAgICBTdHJpbmcgQUlUUCA9IHJlc3VsdHMuZ2V0KCdBSVRQJyk7DQogICAgICAgIFN0cmluZyBBVDA0ID0gcmVzdWx0cy5nZXQoJ0FUMDQnKTsNCg0KICAgICAgICBpZiAoQUlUUC50cmltKCkuZXF1YWxzKCIxIikgJiYgbGVkZ2VyQWNjb3VudFR5cGUuY29udGFpbnMoQVQwNC50cmltKCkpKSB7DQogICAgICAgICAgSGFzaHRhYmxlIGFjY291bnQgPSBuZXcgSGFzaHRhYmxlKCk7DQogICAgICAgICAgYWNjb3VudC5wdXQoIkRJVkkiLCByZXN1bHRzLmdldCgnRElWSScpKTsNCiAgICAgICAgICBhY2NvdW50LnB1dCgiQUlUUCIsIHJlc3VsdHMuZ2V0KCdBSVRQJykpOw0KICAgICAgICAgIGFjY291bnQucHV0KCJBSVRNIiwgcmVzdWx0cy5nZXQoJ0FJVE0nKSk7DQogICAgICAgICAgYWNjb3VudC5wdXQoIlRYNDAiLCByZXN1bHRzLmdldCgnVFg0MCcpKTsNCiAgICAgICAgICBhY2NvdW50LnB1dCgiTENDRCIsIHJlc3VsdHMuZ2V0KCdMQ0NEJykpOw0KICAgICAgICAgIGFjY291bnQucHV0KCJWRkRUIiwgcmVzdWx0cy5nZXQoJ1ZGRFQnKSk7DQogICAgICAgICAgYWNjb3VudC5wdXQoIlZURFQiLCByZXN1bHRzLmdldCgnVlREVCcpKTsNCiAgICAgICAgICBhY2NvdW50LnB1dCgiQUNSMiIsIHJlc3VsdHMuZ2V0KCdBQ1IyJykpOw0KICAgICAgICAgIGFjY291bnQucHV0KCJBQ1IzIiwgcmVzdWx0cy5nZXQoJ0FDUjMnKSk7DQogICAgICAgICAgYWNjb3VudC5wdXQoIkFDUjQiLCByZXN1bHRzLmdldCgnQUNSNCcpKTsNCiAgICAgICAgICBhY2NvdW50LnB1dCgiQUNSNSIsIHJlc3VsdHMuZ2V0KCdBQ1I1JykpOw0KICAgICAgICAgIGFjY291bnQucHV0KCJBQ1I2IiwgcmVzdWx0cy5nZXQoJ0FDUjYnKSk7DQogICAgICAgICAgYWNjb3VudC5wdXQoIkFDUjciLCByZXN1bHRzLmdldCgnQUNSNycpKTsNCiAgICAgICAgICBhY2NvdW50LnB1dCgiQVQwNCIsIHJlc3VsdHMuZ2V0KCdBVDA0JykpOw0KICAgICAgICAgIGFjY291bnQucHV0KCJBQ1JWIiwgcmVzdWx0cy5nZXQoJ0FDUlYnKSk7DQogICAgICAgICAgYWNjb3VudC5wdXQoIk1RQ0QiLCByZXN1bHRzLmdldCgnTVFDRCcpKTsNCiAgICAgICAgICBhY2NvdW50LnB1dCgiQVQxMyIsIHJlc3VsdHMuZ2V0KCdBVDEzJykpOw0KICAgICAgICAgIGxlZGdlckFjY291bnRzLmFkZChhY2NvdW50KTsNCg0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICAgIGRlZiBwYXJhbXMgPSBbIkFJVFAiOiAiMSIsICJBSVRNIjogaW5wdXRBSVRNLCAiRElWSSI6IGlucHV0RElWSV07DQogICAgbWlDYWxsZXIuc2V0TGlzdE1heFJlY29yZHMoMjAwMDApOw0KICAgIG1pQ2FsbGVyLmNhbGwoIkNSUzYzME1JIiwgIkxzdEFjY291bnRJRCIsIHBhcmFtcywgY2FsbGJhY2spOw0KICAgIHJldHVybiByZWNvcmRFeGlzdHM7DQoNCiAgfQ0KICANCiAvKioNCiAgICogRmlsbCB0aGUgdmFsdWVzIG9mIEFjY291bnRpbmcgY29udHJvbCBPYmplY3QgZm9yIEFjY291bnRpbmcgZGltZW5zaW9ucw0KICAgKiANCiAgICovDQoNCiAgcHVibGljIGZpbGxBQ1JMaXN0KEhhc2h0YWJsZSBhY2NvdW50KSB7DQogICAgYWNyTGlzdCA9IG5ldyBBcnJheUxpc3QgPCBIYXNodGFibGUgPiAoKTsNCiAgICBTdHJpbmcgQUNSMiA9IGFjY291bnQuZ2V0KCJBQ1IyIik7DQogICAgU3RyaW5nIEFDUjMgPSBhY2NvdW50LmdldCgiQUNSMyIpOw0KICAgIFN0cmluZyBBQ1I0ID0gYWNjb3VudC5nZXQoIkFDUjQiKTsNCiAgICBTdHJpbmcgQUNSNSA9IGFjY291bnQuZ2V0KCJBQ1I1Iik7DQogICAgU3RyaW5nIEFDUjYgPSBhY2NvdW50LmdldCgiQUNSNiIpOw0KICAgIFN0cmluZyBBQ1I3ID0gYWNjb3VudC5nZXQoIkFDUjciKTsNCg0KICAgIGlmIChBQ1IyLmVxdWFscygiMiIpIHx8IEFDUjIuZXF1YWxzKCI0IikgfHwgQUNSMi5lcXVhbHMoIjYiKSkgew0KICAgICAgamF2YS51dGlsLkhhc2h0YWJsZSBhY3IgPSBuZXcgamF2YS51dGlsLkhhc2h0YWJsZSgpOw0KICAgICAgYWNyLnB1dCgiQUNSIiwgIjIiKTsNCiAgICAgIGFjci5wdXQoIlZhbHVlIiwgQUNSMik7DQogICAgICBhY3JMaXN0LmFkZChhY3IpOw0KICAgIH0NCiAgICBpZiAoQUNSMy5lcXVhbHMoIjIiKSB8fCBBQ1IzLmVxdWFscygiNCIpIHx8IEFDUjMuZXF1YWxzKCI2IikpIHsNCiAgICAgIGphdmEudXRpbC5IYXNodGFibGUgYWNyID0gbmV3IGphdmEudXRpbC5IYXNodGFibGUoKTsNCiAgICAgIGFjci5wdXQoIkFDUiIsICIzIik7DQogICAgICBhY3IucHV0KCJWYWx1ZSIsIEFDUjMpOw0KICAgICAgYWNyTGlzdC5hZGQoYWNyKTsNCiAgICB9DQogICAgaWYgKEFDUjQuZXF1YWxzKCIyIikgfHwgQUNSNC5lcXVhbHMoIjQiKSB8fCBBQ1I0LmVxdWFscygiNiIpKSB7DQogICAgICBqYXZhLnV0aWwuSGFzaHRhYmxlIGFjciA9IG5ldyBqYXZhLnV0aWwuSGFzaHRhYmxlKCk7DQogICAgICBhY3IucHV0KCJBQ1IiLCAiNCIpOw0KICAgICAgYWNyLnB1dCgiVmFsdWUiLCBBQ1I0KTsNCiAgICAgIGFjckxpc3QuYWRkKGFjcik7DQogICAgfQ0KICAgIGlmIChBQ1I1LmVxdWFscygiMiIpIHx8IEFDUjUuZXF1YWxzKCI0IikgfHwgQUNSNS5lcXVhbHMoIjYiKSkgew0KICAgICAgamF2YS51dGlsLkhhc2h0YWJsZSBhY3IgPSBuZXcgamF2YS51dGlsLkhhc2h0YWJsZSgpOw0KICAgICAgYWNyLnB1dCgiQUNSIiwgIjUiKTsNCiAgICAgIGFjci5wdXQoIlZhbHVlIiwgQUNSNSk7DQogICAgICBhY3JMaXN0LmFkZChhY3IpOw0KICAgIH0NCiAgICBpZiAoQUNSNi5lcXVhbHMoIjIiKSB8fCBBQ1I2LmVxdWFscygiNCIpIHx8IEFDUjYuZXF1YWxzKCI2IikpIHsNCiAgICAgIGphdmEudXRpbC5IYXNodGFibGUgYWNyID0gbmV3IGphdmEudXRpbC5IYXNodGFibGUoKTsNCiAgICAgIGFjci5wdXQoIkFDUiIsICI2Iik7DQogICAgICBhY3IucHV0KCJWYWx1ZSIsIEFDUjYpOw0KICAgICAgYWNyTGlzdC5hZGQoYWNyKTsNCiAgICB9DQogICAgaWYgKEFDUjcuZXF1YWxzKCIyIikgfHwgQUNSNy5lcXVhbHMoIjQiKSB8fCBBQ1I3LmVxdWFscygiNiIpKSB7DQogICAgICBqYXZhLnV0aWwuSGFzaHRhYmxlIGFjciA9IG5ldyBqYXZhLnV0aWwuSGFzaHRhYmxlKCk7DQogICAgICBhY3IucHV0KCJBQ1IiLCAiNyIpOw0KICAgICAgYWNyLnB1dCgiVmFsdWUiLCBBQ1I3KTsNCiAgICAgIGFjckxpc3QuYWRkKGFjcik7DQogICAgfQ0KDQogIH0NCg0KIC8qKg0KICAgKiBTZW5kIGRhdGEgdG8gQVBJIG91dHB1dCBmaWVsZHMNCiAgICogDQogICAqLw0KDQogIHB1YmxpYyBtYXBWYWx1ZXNUb0lTUChIYXNodGFibGUgYWNjb3VudCkgew0KICAgIFN0cmluZyBESVZJID0gYWNjb3VudC5nZXQoIkRJVkkiKTsNCiAgICBTdHJpbmcgQUlUUCA9IGFjY291bnQuZ2V0KCJBSVRQIik7DQogICAgU3RyaW5nIEFJVE0gPSBhY2NvdW50LmdldCgiQUlUTSIpOw0KICAgIFN0cmluZyBUWDQwID0gYWNjb3VudC5nZXQoIlRYNDAiKTsNCiAgICBTdHJpbmcgTENDRCA9IGFjY291bnQuZ2V0KCJMQ0NEIik7DQogICAgU3RyaW5nIFZGRFQgPSBhY2NvdW50LmdldCgiVkZEVCIpOw0KICAgIFN0cmluZyBWVERUID0gYWNjb3VudC5nZXQoIlZURFQiKTsNCiAgICBTdHJpbmcgQUNSMiA9IGFjY291bnQuZ2V0KCJBQ1IyIik7DQogICAgU3RyaW5nIEFDUjMgPSBhY2NvdW50LmdldCgiQUNSMyIpOw0KICAgIFN0cmluZyBBQ1I0ID0gYWNjb3VudC5nZXQoIkFDUjQiKTsNCiAgICBTdHJpbmcgQUNSNSA9IGFjY291bnQuZ2V0KCJBQ1I1Iik7DQogICAgU3RyaW5nIEFDUjYgPSBhY2NvdW50LmdldCgiQUNSNiIpOw0KICAgIFN0cmluZyBBQ1I3ID0gYWNjb3VudC5nZXQoIkFDUjciKTsNCiAgICBTdHJpbmcgQVQwNCA9IGFjY291bnQuZ2V0KCJBVDA0Iik7DQogICAgU3RyaW5nIEFDUlYgPSBhY2NvdW50LmdldCgiQUNSViIpOw0KICAgIFN0cmluZyBNUUNEID0gYWNjb3VudC5nZXQoIk1RQ0QiKTsNCiAgICBTdHJpbmcgQVQxMyA9IGFjY291bnQuZ2V0KCJBVDEzIik7DQoNCiAgICBBQ1IyID0gZGltZW5zaW9uTWFwLmdldChBQ1IyKSA9PSBudWxsID8gIiIgOiBkaW1lbnNpb25NYXAuZ2V0KEFDUjIpOw0KICAgIEFDUjMgPSBkaW1lbnNpb25NYXAuZ2V0KEFDUjMpID09IG51bGwgPyAiIiA6IGRpbWVuc2lvbk1hcC5nZXQoQUNSMyk7DQogICAgQUNSNCA9IGRpbWVuc2lvbk1hcC5nZXQoQUNSNCkgPT0gbnVsbCA/ICIiIDogZGltZW5zaW9uTWFwLmdldChBQ1I0KTsNCiAgICBBQ1I1ID0gZGltZW5zaW9uTWFwLmdldChBQ1I1KSA9PSBudWxsID8gIiIgOiBkaW1lbnNpb25NYXAuZ2V0KEFDUjUpOw0KICAgIEFDUjYgPSBkaW1lbnNpb25NYXAuZ2V0KEFDUjYpID09IG51bGwgPyAiIiA6IGRpbWVuc2lvbk1hcC5nZXQoQUNSNik7DQogICAgQUNSNyA9IGRpbWVuc2lvbk1hcC5nZXQoQUNSNykgPT0gbnVsbCA/ICIiIDogZGltZW5zaW9uTWFwLmdldChBQ1I3KTsNCiAgICBNUUNEID0gcXVhbnRpdHlNYXAuZ2V0KE1RQ0QpID09IG51bGwgPyAiIiA6IHF1YW50aXR5TWFwLmdldChNUUNEKTsNCiAgICBBVDA0ID0gdmF0UmFuZ2VNYXAuZ2V0KEFUMDQpID09IG51bGwgPyAiMCIgOiB2YXRSYW5nZU1hcC5nZXQoQVQwNCk7DQogICAgaWYgKExDQ0QuZXF1YWxzKCcwJykgJiYgQVQxMy5lcXVhbHMoJzAnKSkgew0KICAgICAgbWkub3V0RGF0YS5wdXQoJ1JDVFAnLCAnSCcpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoJ0RJVkknLCBESVZJKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCdBSVRQJywgQUlUUCk7DQogICAgICBtaS5vdXREYXRhLnB1dCgnQUlUTScsIEFJVE0pOw0KICAgICAgbWkub3V0RGF0YS5wdXQoJ1RYNDAnLCBUWDQwKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCdMQ0NEJywgTENDRCk7DQogICAgICBtaS5vdXREYXRhLnB1dCgnVkZEVCcsIFZGRFQpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoJ1ZURFQnLCBWVERUKTsNCiAgICAgIG1pLm91dERhdGEucHV0KCdBQ1IyJywgQUNSMik7DQogICAgICBtaS5vdXREYXRhLnB1dCgnQUNSMycsIEFDUjMpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoJ0FDUjQnLCBBQ1I0KTsNCiAgICAgIG1pLm91dERhdGEucHV0KCdBQ1I1JywgQUNSNSk7DQogICAgICBtaS5vdXREYXRhLnB1dCgnQUNSNicsIEFDUjYpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoJ0FDUjcnLCBBQ1I3KTsNCiAgICAgIG1pLm91dERhdGEucHV0KCdBVDA0JywgQVQwNCk7DQogICAgICBtaS5vdXREYXRhLnB1dCgnTVFDRCcsIE1RQ0QpOw0KICAgICAgbWkud3JpdGUoKTsNCiAgICB9DQogIH0NCg0KIC8qKg0KICAgKiBSZXRyaXZlIGFkZGl0aW9uYWwgZGV0YWlscyBmcm9tIHRhYmxlIEZDSENISw0KICAgKiANCiAgICovDQoNCiAgcHVibGljIGZpbGxBQ1JSYW5nZShIYXNodGFibGUgYWNjb3VudCkgew0KICAgIFN0cmluZyBESVZJID0gYWNjb3VudC5nZXQoJ0RJVkknKTsNCiAgICBTdHJpbmcgQUlUUCA9IGFjY291bnQuZ2V0KCdBSVRQJyk7DQogICAgU3RyaW5nIEFJVE0gPSBhY2NvdW50LmdldCgnQUlUTScpOw0KICAgIFN0cmluZyBLVjA2ID0gIiI7DQogICAgU3RyaW5nIEtWMDcgPSAiIjsNCg0KICAgIGFjckxpc3QuZWFjaCB7DQogICAgICB2YWx1ZSAtPg0KICAgICAgICBIYXNodGFibGUgYWNyUmFuZ2VUYWJsZSA9IHZhbHVlOw0KICAgICAgS1YwNiA9IGFjclJhbmdlVGFibGUuZ2V0KCdBQ1InKTsNCiAgICAgIEtWMDcgPSBhY3JSYW5nZVRhYmxlLmdldCgnVmFsdWUnKTsNCg0KICAgICAgREJBY3Rpb24gcXVlcnlGQ0hDSEsgPSBkYXRhYmFzZS50YWJsZSgiRkNIQ0hLIikNCiAgICAgICAgLmluZGV4KCIwMCIpDQogICAgICAgIC5zZWxlY3Rpb24oIkVDQ09OTyIsICJFQ0RJVkkiLCAiRUNBSVRQIiwgIkVDQUlUTSIsICJFQ0NIUFUiLCAiRUNBSVRWIiwgIkVDQUNSQyIsICJFQ1JMSU4iLCAiRUNBSVRGIiwgIkVDQUlUVCIsICJFQ0FJVFYiKS5idWlsZCgpDQogICAgICBEQkNvbnRhaW5lciByZWNvcmRGQ0hDSEsgPSBxdWVyeUZDSENISy5nZXRDb250YWluZXIoKQ0KICAgICAgcmVjb3JkRkNIQ0hLLnNldCgiRUNDT05PIiwgQ09OTy50b0ludGVnZXIoKSk7DQogICAgICByZWNvcmRGQ0hDSEsuc2V0KCJFQ0RJVkkiLCBESVZJKTsNCiAgICAgIHJlY29yZEZDSENISy5zZXQoIkVDQUlUUCIsIEFJVFAudG9JbnRlZ2VyKCkpOw0KICAgICAgcmVjb3JkRkNIQ0hLLnNldCgiRUNBSVRNIiwgQUlUTSk7DQogICAgICByZWNvcmRGQ0hDSEsuc2V0KCJFQ0NIUFUiLCAxKTsNCiAgICAgIHJlY29yZEZDSENISy5zZXQoIkVDQUlUViIsIEtWMDYudG9JbnRlZ2VyKCkpOw0KICAgICAgcmVjb3JkRkNIQ0hLLnNldCgiRUNBQ1JDIiwgS1YwNy50b0ludGVnZXIoKSk7DQoNCiAgICAgIC8vbWkub3V0RGF0YS5wdXQoJ0FJVE0nLCBhY2NvdW50LmdldCgnQUlUTScpLnRvU3RyaW5nKCkpOw0KDQogICAgICBpbnQgcmVhZHMgPSBxdWVyeUZDSENISy5yZWFkQWxsKHJlY29yZEZDSENISywgNywgZ2V0RkNIQ0hLUmVjb3Jkcyk7DQoNCiAgICB9DQogICAgYWNyTGlzdC5jbGVhcigpOw0KDQogIH0NCiAgQ2xvc3VyZSA8ID8gPiBnZXRGQ0hDSEtSZWNvcmRzID0gew0KICAgIERCQ29udGFpbmVyIHJlY29yZCAtPg0KICAgIFN0cmluZyBGVjAyID0gcmVjb3JkLmdldCgnRUNSTElOJyk7DQogICAgU3RyaW5nIEZWMDMgPSByZWNvcmQuZ2V0KCdFQ0FJVEYnKTsNCiAgICBTdHJpbmcgRlYwNCA9IHJlY29yZC5nZXQoJ0VDQUlUVCcpOw0KICAgIFN0cmluZyBLVjA2ID0gcmVjb3JkLmdldCgnRUNBSVRWJyk7DQogICAgU3RyaW5nIERJVkkgPSByZWNvcmQuZ2V0KCdFQ0RJVkknKTsNCiAgICBTdHJpbmcgQUlUUCA9IHJlY29yZC5nZXQoJ0VDQUlUUCcpOw0KICAgIFN0cmluZyBBSVRNID0gcmVjb3JkLmdldCgnRUNBSVRNJyk7DQoNCiAgICBtaS5vdXREYXRhLnB1dCgnUkNUUCcsICdSJyk7DQogICAgbWkub3V0RGF0YS5wdXQoJ0RJVkknLCBESVZJKTsNCiAgICBtaS5vdXREYXRhLnB1dCgnQUlUUCcsIEFJVFApOw0KICAgIG1pLm91dERhdGEucHV0KCdBSVRNJywgQUlUTSk7DQogICAgbWkub3V0RGF0YS5wdXQoJ0tWMDYnLCBLVjA2KTsNCiAgICBtaS5vdXREYXRhLnB1dCgnRlYwMicsIEZWMDIpOw0KICAgIG1pLm91dERhdGEucHV0KCdGVjAzJywgRlYwMyk7DQogICAgbWkub3V0RGF0YS5wdXQoJ0ZWMDQnLCBGVjA0KTsNCiAgICBtaS53cml0ZSgpOw0KICB9DQoNCg0KIC8qKg0KICAgKiBSZXRyaXZlIGFkZGl0aW9uYWwgZGV0YWlscyBmcm9tIHRhYmxlIEZDSENISw0KICAgKiANCiAgICovDQogICANCiAgcHVibGljIGZpbGxWQVRSYW5nZShIYXNodGFibGUgYWNjb3VudCkgew0KICAgIHZhdFJhbmdlTGlzdCA9IG5ldyBBcnJheUxpc3QgPCBIYXNodGFibGUgPiAoKTsNCiAgICBTdHJpbmcgQUNSViA9IGFjY291bnQuZ2V0KCdBQ1JWJyk7DQogICAgU3RyaW5nIERJVkkgPSBhY2NvdW50LmdldCgnRElWSScpOw0KICAgIFN0cmluZyBBSVRQID0gYWNjb3VudC5nZXQoJ0FJVFAnKTsNCiAgICBTdHJpbmcgQUlUTSA9IGFjY291bnQuZ2V0KCdBSVRNJyk7DQoNCiAgICBpZiAoQUNSVi50cmltKCkuZXF1YWxzKCI0IikpIHsNCg0KICAgICAgREJBY3Rpb24gcXVlcnlGQ0hDSEsgPSBkYXRhYmFzZS50YWJsZSgiRkNIQ0hLIikNCiAgICAgICAgLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiRUNDT05PIiwgIkVDRElWSSIsICJFQ0FJVFAiLCAiRUNBSVRNIiwgIkVDQ0hQVSIsICJFQ0FJVFYiLCAiRUNBQ1JDIiwgIkVDQUlUViIsICJFQ1JMSU4iLCAiRUNWVENGIiwgIkVDVlRDVCIpLmJ1aWxkKCkNCiAgICAgIERCQ29udGFpbmVyIHJlY29yZEZDSENISyA9IHF1ZXJ5RkNIQ0hLLmdldENvbnRhaW5lcigpDQogICAgICByZWNvcmRGQ0hDSEsuc2V0KCJFQ0NPTk8iLCBDT05PLnRvSW50ZWdlcigpKTsNCiAgICAgIHJlY29yZEZDSENISy5zZXQoIkVDRElWSSIsIERJVkkpOw0KICAgICAgcmVjb3JkRkNIQ0hLLnNldCgiRUNBSVRQIiwgQUlUUC50b0ludGVnZXIoKSk7DQogICAgICByZWNvcmRGQ0hDSEsuc2V0KCJFQ0FJVE0iLCBBSVRNKTsNCiAgICAgIHJlY29yZEZDSENISy5zZXQoIkVDQ0hQVSIsIDEpOw0KICAgICAgcmVjb3JkRkNIQ0hLLnNldCgiRUNBSVRWIiwgOCk7DQogICAgICByZWNvcmRGQ0hDSEsuc2V0KCJFQ0FDUkMiLCBBQ1JWLnRvSW50ZWdlcigpKTsNCg0KICAgICAgaW50IHJlYWRzID0gcXVlcnlGQ0hDSEsucmVhZEFsbChyZWNvcmRGQ0hDSEssIDcsIGdldEZDSENIS1JlY29yZHMyKTsNCg0KICAgIH0NCiAgfQ0KDQogIENsb3N1cmUgPCA/ID4gZ2V0RkNIQ0hLUmVjb3JkczIgPSB7DQogICAgREJDb250YWluZXIgcmVjb3JkIC0+DQogICAgU3RyaW5nIEZWMDEgPSByZWNvcmQuZ2V0KCJFQ0FJVFYiKSA9PSBudWxsID8gIiIgOiByZWNvcmQuZ2V0KCJFQ0FJVFYiKTsNCiAgICBTdHJpbmcgRlYwMiA9IHJlY29yZC5nZXQoIkVDUkxJTiIpID09IG51bGwgPyAiIiA6IHJlY29yZC5nZXQoIkVDUkxJTiIpOw0KICAgIFN0cmluZyBGVjA1ID0gcmVjb3JkLmdldCgiRUNWVENGIikgPT0gbnVsbCA/ICIwMCIgOiByZWNvcmQuZ2V0KCJFQ1ZUQ0YiKTsNCiAgICBTdHJpbmcgRlYwNiA9IHJlY29yZC5nZXQoIkVDVlRDVCIpID09IG51bGwgPyAiMDAiIDogcmVjb3JkLmdldCgiRUNWVENUIik7DQogICAgU3RyaW5nIEFJVE0gPSByZWNvcmQuZ2V0KCJFQ0FJVE0iKSA9PSBudWxsID8gIiIgOiByZWNvcmQuZ2V0KCJFQ0FJVE0iKTsNCiAgICBTdHJpbmcgRElWSSA9IHJlY29yZC5nZXQoIkVDRElWSSIpID09IG51bGwgPyAiIiA6IHJlY29yZC5nZXQoIkVDRElWSSIpOw0KICAgIFN0cmluZyBBSVRQID0gcmVjb3JkLmdldCgiRUNBSVRQIikgPT0gbnVsbCA/ICIiIDogcmVjb3JkLmdldCgiRUNBSVRQIik7DQoNCiAgICBtaS5vdXREYXRhLnB1dCgnUkNUUCcsICdWJyk7DQogICAgbWkub3V0RGF0YS5wdXQoJ0RJVkknLCBESVZJKTsNCiAgICBtaS5vdXREYXRhLnB1dCgnQUlUUCcsIEFJVFApOw0KICAgIG1pLm91dERhdGEucHV0KCdBSVRNJywgQUlUTSk7DQogICAgbWkub3V0RGF0YS5wdXQoJ0tWMDYnLCAiOCIpOw0KICAgIG1pLm91dERhdGEucHV0KCdGVjAyJywgRlYwMik7DQogICAgbWkub3V0RGF0YS5wdXQoJ0ZWMDMnLCBGVjA1KTsNCiAgICBtaS5vdXREYXRhLnB1dCgnRlYwNCcsIEZWMDYpOw0KICAgIG1pLndyaXRlKCk7DQoNCiAgfQ0KfQ=="}}}